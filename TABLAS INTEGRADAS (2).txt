CREATE TABLE PROYECTO
(CODIGO_PROYECTO VARCHAR(8) CONSTRAINT PROYECTO_CODIGO_PROYECTO_PK PRIMARY KEY,
NOMBRE VARCHAR(40) CONSTRAINT PROYECTO_NOMBRE_NN NOT NULL,
DIRECCION VARCHAR(20) CONSTRAINT PROYECTO_DIRECCION_NN NOT NULL);

INSERT INTO PROYECTO 
VALUES ('&CODIGO_PROYECTO', '&NOMBRE', '&DIRECCION');

-------------------
CREATE TABLE TRABAJADOR 
(CED_TRABAJADOR VARCHAR(10) CONSTRAINT TRABAJADOR_CED_TRABAJADOR_PK PRIMARY KEY,
 NOMBRE_COMPLETO VARCHAR(40) CONSTRAINT TRABAJADOR_NOMBRE_COMPLETO_NN NOT NULL,
 CELULAR NUMBER(10) CONSTRAINT ASESOR_CELULAR_NN NOT NULL,
 CORREO_ELECTRONICO VARCHAR(20) CONSTRAINT TRABAJADOR_CORREO_ELECTRONICO_NN NOT NULL,
 DIRECCION_RESIDENCIA VARCHAR(20),  
 CONTRASENA VARCHAR(10) CONSTRAINT TRABAJADOR_CONTRASENA_NN NOT NULL,  
 ESTADO BOOLEAN CONSTRAINT TRABAJADOR_ESTADO_NN NOT NULL);

INSERT INTO TRABAJADOR 
VALUES ('&CED_TRABAJADOR', '&NOMBRE_COMPLETO', '&ROL', '&DIRECCION_RESIDENCIA', &CELULAR, '&CORREO_ELECTRONICO', '&CONTRASENA', &ESTADO, &STAFF);

--------------------
CREATE TABLE ROL
(ID_ROL VARCHAR(10) CONSTRAINT ROL_ID_PK PRIMARY KEY,
 NOMBRE_ROL VARCHAR(20) CONSTRAINT ROL_NOMBRE_NN NOT NULL);

INSERT INTO ROL 
VALUES ('&ID_ROL', '&NOMBRE_ROL');

--------------------
CREATE TABLE ROL_TRABAJADOR
(ID_ROL VARCHAR(10) CONSTRAINT ROL_ID_FK FOREIGN KEY,
 CED_TRABAJADOR VARCHAR(10) CONSTRAINT TRABAJADOR_CED_TRABAJADOR_FK FOREIGN KEY,
CONSTRAINT ROL_TRABAJADOR_CED_TRABAJADOR_FK FOREIGN KEY (CED_TRABAJADOR) REFERENCES TRABAJADOR(CED_TRABAJADOR),
CONSTRAINT ROL_TRABAJADOR_ID_ROL_FK FOREIGN KEY (ID_ROL) REFERENCES ROL(ID_ROL));

INSERT INTO ROL 
VALUES ('&ID_ROL', '&CED_TRABAJADOR');



--------------------
CREATE TABLE CLIENTE 
( CEDULA_CLIENTE VARCHAR(10) CONSTRAINT CLIENTE_CEDULA_PK PRIMARY KEY,
  NOMBRE_COMPLETO VARCHAR(40) CONSTRAINT CLIENTE_NOMBRE_COMPLETO_NN NOT NULL,
  CELULAR NUMBER(10) CONSTRAINT CLIENTE_CELULAR_NN NOT NULL,
  CORREO_ELECTRONICO VARCHAR(20) CONSTRAINT CLIENTE_CORREO_ELECTRONICO_NN NOT NULL,
  DIRECCION_RESIDENCIA VARCHAR(20),
  INGRESOS FLOAT(20) CONSTRAINT CLIENTE_INGRESOS_NN NOT NULL);

INSERT INTO CLIENTE 
VALUES ('&CEDULA_CLIENTE', '&NOMBRE_COMPLETO', '&DIRECCION_RESIDENCIA', &CELULAR, '&CORREO_ELECTRONICO', &INGRESOS);


------------------
CREATE TABLE TORRE 
( CODIGO_TORRE VARCHAR(8) CONSTRAINT TORRE_CODIGO_TORRE_PK PRIMARY KEY,
  FECHA_CONSTRUCCION DATE CONSTRAINT TORRE_FECHA_CONSTRUCCION_NN NOT NULL,
  CODIGO_PROYECTO VARCHAR(8) CONSTRAINT TORRE_CODIGOPROYECTO_NN NOT NULL,
  CONSTRAINT TORRE_CODIGOPROYECTO_FK FOREIGN KEY (CODIGO_PROYECTO) REFERENCES PROVEEDOR(CODIGO_PROYECTO));

INSERT INTO TORRE  
VALUES ('&CODIGO_TORRE', TO_DATE('&FECHA_CONSTRUCCION', 'DD-MM-YYYY'), '&CODIGO_PROYECTO');

----------------------
CREATE TABLE PROPIEDAD 
( MATRICULA VARCHAR(8) CONSTRAINT PROPIEDAD_MATRICULA_PK PRIMARY KEY,
  VALOR FLOAT(20) CONSTRAINT PROPIEDAD_VALOR_NN NOT NULL,
  TIPO ENUM('Apartamento', 'Garaje', 'Local') CONSTRAINT PROPIEDAD_TIPO_NN NOT NULL,
  AREA VARCHAR(10) CONSTRAINT PROPIEDAD_AREA_NN NOT NULL,
  ESTADO ENUM('Disponible', 'Vendido') CONSTRAINT PROPIEDAD_ESTADO_NN NOT NULL,
  CODIGO_TORRE VARCHAR(8) CONSTRAINT PROPIEDAD_CODIGOTORRE_NN NOT NULL,
  CONSTRAINT PROPIEDAD_CODIGOTORRE_FK FOREIGN KEY (CODIGO_TORRE) REFERENCES TORRE(CODIGO_TORRE));

INSERT INTO PROPIEDAD 
VALUES ('&MATRICULA', &VALOR, '&TIPO', '&AREA', '&ESTADO', '&CODIGO_TORRE');


------------------
CREATE TABLE VENTA
( ID_VENTA VARCHAR(10) CONSTRAINT VENTA_ID_PK PRIMARY KEY,
  METODO_PAGO ENUM('Contado', 'Cr√©dito') CONSTRAINT VENTA_METODO_PAGO_NN NOT NULL,
  PRECIO_TOTAL FLOAT(20) CONSTRAINT VENTA_PRECIO_TOTAL_NN NOT NULL,
  FECHA_VENTA DATE CONSTRAINT VENTA_FECHA_NN NOT NULL,
  PORCENTAJE_INTERES(5) FLOAT CONSTRAINT VENTA_PORCENTAJE_INTERES_NN,
  CANTIDAD_CUOTAS NUMBER(20) CONSTRAINT VENTA_CANTIDAD_CUOTAS_NN NOT NULL,
  VALOR_SUBSIDIO FLOAT(20) CONSTRAINT VENTA_VALOR_SUBSIDIO_NN,
  MATRICULA VARCHAR(8) CONSTRAINT VENTA_MATRICULA_NN NOT NULL,
  CONSTRAINT VENTA_MATRICULA_FK FOREIGN KEY (MATRICULA) REFERENCES PROPIEDAD(MATRICULA),
  CED_CLIENTE VARCHAR(10) CONSTRAINT VENTA_CED_CLIENTE_NN NOT NULL,
  CONSTRAINT VENTA_CED_CLIENTE_FK FOREIGN KEY (CED_CLIENTE) REFERENCES CLIENTE(CED_CLIENTE),
  CED_TRABAJADOR VARCHAR(10) CONSTRAINT VENTA_CED_TRABAJADOR_NN NOT NULL,
  CONSTRAINT VENTA_CED_TRABAJADOR_FK FOREIGN KEY (CED_TRABAJADOR) REFERENCES TRABAJADOR(CED_TRABAJADOR));

INSERT INTO VENTA 
VALUES ('&ID_VENTA', '&METODO_PAGO', &PRECIO_TOTAL, TO_DATE('&FECHA_VENTA', 'DD-MM-YYYY'), &PORCENTAJE_INTERES, &CANTIDAD_CUOTAS, &VALOR_SUBSIDIO, '&MATRICULA', '&CED_CLIENTE', '&CED_TRABAJADOR');

------------------
CREATE TABLE DEUDA 
( ID_DEUDA VARCHAR(10) CONSTRAINT DEUDA_ID_DEUDA_PK PRIMARY KEY,
  VALOR_CUOTA FLOAT CONSTRAINT DEUDA_VALOR_CUOTA_NN NOT NULL,
  VALOR_DEUDA FLOAT CONSTRAINT DEUDA_VALOR_DEUDA_NN NOT NULL,
  ID_VENTA VARCHAR(10) CONSTRAINT DEUDA_ID_VENTA_NN NOT NULL,
  CONSTRAINT DEUDA_ID_VENTA_FK FOREIGN KEY (ID_VENTA) REFERENCES VENTA(ID_VENTA));

INSERT INTO DEUDA  
VALUES ('&ID_DEUDA', &VALOR_CUOTA, &VALOR_DEUDA, '&ID_VENTA');
-----------------
CREATE TABLE PAGO 
( ID_PAGO VARCHAR(10) CONSTRAINT PAGO_ID_PAGO_PK PRIMARY KEY,
  TIPO ENUM('Cuota', 'Abono', 'Contado') CONSTRAINT PAGO_TIPO_NN NOT NULL,
  VALOR FLOAT(20) CONSTRAINT PAGO_VALOR_NN NOT NULL,
  FECHA_PAGO DATE CONSTRAINT PAGO_FECHA_NN NOT NULL,
  CED_TRABAJADOR VARCHAR(10) CONSTRAINT PAGO_CED_TRABAJADOR_NN NOT NULL,
  CONSTRAINT PAGO_CED_TRABAJADOR_FK FOREIGN KEY (CED_TRABAJADOR) REFERENCES TRABAJADOR(CED_TRABAJADOR),  
  ID_DEUDA VARCHAR(10) CONSTRAINT PAGO_ID_DEUDA_NN NOT NULL,
  CONSTRAINT PAGO_ID_DEUDA_FK FOREIGN KEY (ID_DEUDA) REFERENCES DEUDA(ID_DEUDA));

INSERT INTO PAGO  
VALUES ('&ID_PAGO', '&TIPO', &VALOR, TO_DATE('&FECHA_PAGO', 'DD-MM-YYYY'), '&CED_TRABAJADOR', '&ID_DEUDA');

